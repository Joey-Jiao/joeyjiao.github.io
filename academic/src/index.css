@import url("https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,400;0,6..72,600;0,6..72,700;1,6..72,400&family=Inter:wght@400;500;600&display=swap");
@import "katex/dist/katex.min.css";
@import "tailwindcss";

@theme {
  --font-sans: "Inter", "Helvetica Neue", "Helvetica", sans-serif;
  --font-serif: "Newsreader", "Georgia", serif;

  --color-text-primary: #1e293b;
  --color-text-secondary: #64748b;
  --color-text-tertiary: #94a3b8;
  --color-accent: #0f766e;
  --color-accent-hover: #115e59;
  --color-accent-subtle: #f0fdfa;
  --color-surface: #fafaf9;
  --color-border: #e2e8f0;
  --color-award: #d97706;
}

body {
  background-color: var(--color-surface);
  color: var(--color-text-primary);
  transition: background-color 0.4s ease, color 0.4s ease;
}

*,
*::before,
*::after {
  transition: background-color 0.4s ease, color 0.4s ease, border-color 0.4s ease, text-decoration-color 0.4s ease;
}

::selection {
  background-color: #e2e8f0;
  color: #1e293b;
}

.link,
.prose a {
  color: var(--color-accent);
  text-decoration: underline;
  text-decoration-color: color-mix(in srgb, var(--color-accent) 30%, transparent);
  text-underline-offset: 3px;
  transition: color 0.2s, text-decoration-color 0.2s;
}

.link:hover,
.prose a:hover {
  color: var(--color-accent-hover);
  text-decoration-color: var(--color-accent-hover);
}

.section-title {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
}

.card {
  border-radius: 0.5rem;
  border: 1px solid var(--color-border);
  padding: 1.25rem;
  transition: border-color 0.2s;
}

.card:hover {
  border-color: var(--color-accent);
}

.tag {
  display: inline-block;
  border-radius: 0.25rem;
  background-color: var(--color-accent-subtle);
  padding: 0.125rem 0.375rem;
  color: var(--color-accent);
}

[data-theme="dark"] {
  --color-text-primary: #dcdce0;
  --color-text-secondary: #8a8a92;
  --color-text-tertiary: #52525a;
  --color-accent: #6e9994;
  --color-accent-hover: #7faba6;
  --color-accent-subtle: #0f1312;
  --color-surface: #09090b;
  --color-border: #1e1e22;
  --color-award: #c09a30;
}

[data-theme="dark"] ::selection {
  background-color: #262630;
  color: #dcdce0;
}

[data-theme="dark"] .prose pre,
[data-theme="dark"] .prose pre code {
  color: var(--shiki-dark);
  background-color: var(--shiki-dark-bg);
}

[data-theme="dark"] .prose pre code span {
  color: var(--shiki-dark);
  background-color: var(--shiki-dark-bg);
}

.prose {
  line-height: 1.8;

  h2 {
    margin-top: 2em;
    margin-bottom: 0.75em;
    font-size: 1.375rem;
    font-weight: 700;
    line-height: 1.3;
  }

  h3 {
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    font-size: 1.125rem;
    font-weight: 600;
    line-height: 1.4;
  }

  p {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
  }

  pre {
    margin-top: 1.5em;
    margin-bottom: 1.5em;
    padding: 1em 1.25em;
    border-radius: 0.5rem;
    overflow-x: auto;
    font-size: 0.875rem;
    line-height: 1.6;

    code {
      background-color: transparent;
      padding: 0;
    }

    code span {
      color: var(--shiki-light);
      background-color: var(--shiki-light-bg);
    }
  }

  pre,
  pre code {
    color: var(--shiki-light);
    background-color: var(--shiki-light-bg);
  }

  :not(pre) > code {
    padding: 0.15em 0.35em;
    border-radius: 0.25rem;
    font-size: 0.875em;
    background-color: var(--color-accent-subtle);
    color: var(--color-accent);
  }

  ul {
    margin-top: 1em;
    margin-bottom: 1em;
    padding-left: 1.5em;
    list-style-type: disc;

    li {
      margin-top: 0.375em;
      margin-bottom: 0.375em;
    }
  }

  ol {
    margin-top: 1em;
    margin-bottom: 1em;
    padding-left: 1.5em;
    list-style-type: decimal;

    li {
      margin-top: 0.375em;
      margin-bottom: 0.375em;
    }
  }

  blockquote {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
    padding-left: 1em;
    border-left: 3px solid var(--color-border);
    color: var(--color-text-secondary);
    font-style: italic;
  }

  table {
    width: 100%;
    margin-top: 1.5em;
    margin-bottom: 1.5em;
    border-collapse: collapse;
    font-size: 0.875rem;

    th,
    td {
      padding: 0.5em 0.75em;
      border: 1px solid var(--color-border);
      text-align: left;
    }

    th {
      font-weight: 600;
      background-color: var(--color-accent-subtle);
    }
  }

  img {
    margin-top: 1.5em;
    margin-bottom: 1.5em;
    border-radius: 0.5rem;
    max-width: 100%;
  }

  hr {
    margin-top: 2em;
    margin-bottom: 2em;
    border: none;
    border-top: 1px solid var(--color-border);
  }

  .math-display {
    overflow-x: auto;
    margin-top: 1.5em;
    margin-bottom: 1.5em;
  }

  input[type="checkbox"] {
    margin-right: 0.5em;
    accent-color: var(--color-accent);
  }
}
